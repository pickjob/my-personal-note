# 分布式
- 分布式系统设计策略
    - 心跳检测
    - 高可用设计
        - 主备模式
        - 互备模式
        - 集群模式
    - 容错性
    - 负载均衡
        - 轮询(Round Robin)
        - 最少链接
        - IP地址哈希
        - 基于权重的负载均衡
- 实践
    - 全局ID生成
        - UUID
        - ID生成表
        - Snowflake
        - 结合缓存方案
    - 哈希取模
    - 一致性哈希
    - 路由表
    - 数据拆分
    - 容错
        - 自动重连
        - failover
            - Redistribute
            - Retry
            - Cancel
    - 序列化
    - 拆分
        - 水平拆封
            - 数据分布
                - hash映射
                - 范围映射
                - hash和范围映射
            - 请求路由
                - 只读的跨实例请求
                - 跨实例的原子读写请求
        - 主备复制
- ACID
    - Atomicity(原子性)
    - Consistency(一致性)
    - Isolation(隔离性)
- CAP定理: 对于一个分布式计算系统来说, 不可能同时满足以下三点
    - Consistency(一致性)
    - Availability(可用性)
    - Partition tolerance(分区容忍性)
- BASE: 
    - Basically availability(基本可用)
    - Soft state(软状态)
    - Eventually Consistent(最终一致性)
- 2PC/XA
    - 提交请求阶段/投票阶段(commit request phase)
    - 提交阶段(commit phase)
- 3PC
    - 询问阶段
    - 准备阶段
    - 提交阶段
- TCC(补偿事务)
    - Try
    - Confirm
    - Cancel
- Paxos
- Raft
    - 领导者
    - 选民
    - 候选人
- 高可用解决方案
    - 负载均衡
    - 系统拆分
        - 降级
        - 熔断
        - 流量控制
    - 缓存
    - MQ(削峰)
    - 分表分库 读写分离 (ES)
    - 异地多活