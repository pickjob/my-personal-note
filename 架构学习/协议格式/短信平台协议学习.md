# short message
- Glossary
    - SMPP : Short Message Peer-to-Peer 默认端口 2775
    - ESME : External Short Messaging Entity
    - SMSC : Short Message Service Center
    - PDU : Protocol Data Units
    - ISMG : Internet Short Message Gateway
    - SMC : Short Message Center
    - GNS : Gateway Name Server
    - SP : Service Provider
    - 国内运营商
        - CMPP : 中国移动
        - SGIP : 中国联通
        - SGMP : 中国电信
- SMPP基本概念
    - SSME和SMSC之间通信协议
        - SMPP Transmitter : SMPP messages sent from ESME to SMSC
        - SMPP Receiver : SMPP messages sent from SMSC to ESME
        - SMPP Transceiver
            - SMPP messages sent from ESME to SMSC
            - SMPP messages sent from SMSC to ESME
    - SMPP状态 / 可使用命令
        - OPEN : Connected and Bind Pending
            - bind_transmitter / bind_transmitter_resp
            - bind_receiver / bind_receiver_resp
            - bind_transceiver / bind_transceiver_resp
            - outbind
        - BOUND_TX : bind_transmitter
            - unbind / unbind_resp
            - submit_sm / submit_sm_resp
            - submit_sm_multi / submit_sm_multi_resp
            - data_sm / data_sm_resp
            - query_sm / query_sm_resp
            - cancel_sm / cancel_sm_resp
            - replace_sm / replace_sm_resp
            - enquire_link / enquire_link_resp
            - generic_nack
        - BOUND_RX : bind_receiver
            - unbind / unbind_resp
            - data_sm / data_sm_resp
            - deliver_sm / deliver_sm_resp
            - enquire_link / enquire_link_resp
            - alert_notification
            - generic_nack
        - BOUND_TRX : bind_transceiver
        - CLOSED : Unbound and Disconnected
    - Message between ESME and SMSC
        - from ESME to SMSC
            - submit
                - submit_sm
                - data_sm
                - query_sm
                - cancel_sm
                - replace_sm
            - response
                - deliver_sm_resp
                - data_sm_resp
        - from SMSC to ESME
            - submit
                - deliver_sm
                - data_sm
            - response
                - submit_sm_resp
                - data_sm_resp
                - query_sm_resp
                - cancel_sm_resp
                - replace_sm_resp
    - PDU格式
        - PDU Header (mandatory >= 16 octets)
            - Command Length : 4 octets 
            - Command Id : 4 octets
            - Command Status : 4 octets
            - Sequence Number : 4 octets
        - PDU Body (Optional)
            - PDU Body
        - 具体PDU格式,参见Short Message Peer to Peer Protocol Specification v3.4 -- ch4, ch5
- CMPP
    - SP与ISMG交互
        - CMPP_CONNECT / CMPP_CONNECT_RESP (SP请求连接)
        - CMPP_TERMINATE / CMPP_TERMINATE_RESP (SP/ISMG请求)
        - CMPP_SUBMIT / CMPP_SUBMIT_RESP (SP->ISMG)
        - CMPP_QUERY / CMPP_QUERY_RESP (SP->ISMG)
        - CMPP_DELIVER / CMPP_DELIVER_RESP (ISMG->SP)
        - CMPP_CANCEL / CMPP_CANCEL_RESP
        - CMPP_ACTIVE / CAMPP_ACTIVE_RESP
    - PDU格式
        - Message Header
            - Total Length : 4 octets
            - Command Id : 4 octets
            - Sequence Id : 4 octets
        - Message Body